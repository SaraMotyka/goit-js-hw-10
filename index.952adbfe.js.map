{"mappings":"AAAA,MAIMA,EAAcC,SAASC,cAAc,iBACrCC,EAAgBF,SAASC,cAAc,WACvCE,EAAeH,SAASC,cAAc,UACtCG,EAAcJ,SAASC,cAAc,aAE3C,SAASI,EAAWC,GAAS,GACvBA,EACFJ,EAAcK,UAAUC,IAAI,WAG9BN,EAAcK,UAAUE,OAAO,U,CAGjC,SAASC,EAAQC,GACf,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,MAAMJ,GACHK,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBL,EAAOX,EAEe,IAGzBa,MAAKI,IACJP,EAAQO,EAAK,IAEdC,OAAMC,IACLC,MAAMD,EAAIE,WAAW,GACrB,G,CA4CR,SAASC,EAAUnB,GACbA,EACFH,EAAaI,UAAUC,IAAI,WAG7BL,EAAaI,UAAUE,OAAO,U,CA7CvBM,MAAM,uCACVC,MAAKC,GAAYA,EAASE,SAC1BH,MAAKI,IACJA,EAAKM,SAAQC,IACX,MAAMC,EAAS5B,SAAS6B,cAAc,UACtCD,EAAOE,MAAQH,EAAMI,GACrBH,EAAOI,YAAcL,EAAMM,KAC3BlC,EAAYmC,YAAYN,EAAO,GAC/B,IAEHP,OAAME,IACLY,QAAQZ,MAAM,SAAUA,EAAM,IA2CpCxB,EAAYqC,iBAAiB,UAP7B,SAA2BC,GA/B3B,IAAyBC,EAgCvBD,EAAEE,iBACFd,IACArB,EAAYoC,UAAY,GAlCDF,EAmCPD,EAAEI,OAAOX,MAlCzBzB,IAEAK,EADe,wDAAgC4B,KAE5CtB,MAAKI,IACJ,MAAMsB,EAAc,kBAAkBtB,EAAK,GAAGT,+BAC9CP,EAAYuC,mBAAmB,aAAcD,GAC7CrC,GAAW,EAAM,IAElBgB,OAAMC,IACLjB,GAAW,GACXoB,GAAW,IAGff,EADiB,uCAAuC4B,KAErDtB,MAAKI,IACJ,MAAMwB,EAAY,8BAA8BxB,EAAKa,eAAeb,EAAKyB,yCAAyCzB,EAAK0B,wBACvH1C,EAAYuC,mBAAmB,YAAaC,GAC5C1C,EAAcK,UAAUC,IAAI,SAAS,IAEtCa,OAAMC,IACLG,GAAW,G","sources":["src/cat-api.js"],"sourcesContent":["const catsBreeds =\n  'https://api.thecatapi.com/v1/breeds?api_key=live_2g7KlxK4eCPKY9QUekPGASu03BFi9rW41iCZiwxapWtc9d0oF60bSn2K4lGn882o';\n\nconst catsDescription = 'https://api.thecatapi.com/v1/images/search';\nconst breedSelect = document.querySelector('.breed-select');\nconst loaderMessage = document.querySelector('.loader');\nconst errorMessage = document.querySelector('.error');\nconst catsInfoDiv = document.querySelector('.cat-info');\n\nfunction showLoader(doShow = true) {\n  if (doShow) {\n    loaderMessage.classList.add('visible');\n    return;\n  }\n  loaderMessage.classList.remove('visible');\n}\n\nfunction pingUrl(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          reject(errorMessage);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        error(err.toString());\n      });\n  });\n}\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.json())\n    .then(data => {\n      data.forEach(breed => {\n        const option = document.createElement('option');\n        option.value = breed.id;\n        option.textContent = breed.name;\n        breedSelect.appendChild(option);\n      });\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n}\nfetchBreeds();\n\nfunction fetchCatByBreed(breedId) {\n  showLoader();\n  const urlCat = `${catsDescription}?breed_ids=${breedId}`;\n  pingUrl(urlCat)\n    .then(data => {\n      const catsPicture = `<div><img src=\"${data[0].url}\" class= \"cat-pic\"></div>`;\n      catsInfoDiv.insertAdjacentHTML('afterbegin', catsPicture);\n      showLoader(false);\n    })\n    .catch(err => {\n      showLoader(false);\n      showError();\n    });\n  const catsInfo = `https://api.thecatapi.com/v1/breeds/${breedId}`;\n  pingUrl(catsInfo)\n    .then(data => {\n      const aboutCats = `<div class= \"cat-desc\"><h1>${data.name}</h1><p>${data.description}</p><h2>Temperament</h2><p>${data.temperament}</p></div>`;\n      catsInfoDiv.insertAdjacentHTML('beforeend', aboutCats);\n      loaderMessage.classList.add('hidden');\n    })\n    .catch(err => {\n      showError();\n    });\n}\nfunction showError(doShow) {\n  if (doShow) {\n    errorMessage.classList.add('visible');\n    return;\n  }\n  errorMessage.classList.remove('visible');\n}\nfunction handlebreedSelect(e) {\n  e.preventDefault();\n  showError();\n  catsInfoDiv.innerHTML = '';\n  fetchCatByBreed(e.target.value);\n}\n\nbreedSelect.addEventListener('change', handlebreedSelect);\n"],"names":["$6b5f202d1456c0af$var$breedSelect","document","querySelector","$6b5f202d1456c0af$var$loaderMessage","$6b5f202d1456c0af$var$errorMessage","$6b5f202d1456c0af$var$catsInfoDiv","$6b5f202d1456c0af$var$showLoader","doShow","classList","add","remove","$6b5f202d1456c0af$var$pingUrl","url","Promise","resolve","reject","fetch","then","response","ok","json","data","catch","err","error","toString","$6b5f202d1456c0af$var$showError","forEach","breed","option","createElement","value","id","textContent","name","appendChild","console","addEventListener","e","breedId","preventDefault","innerHTML","target","catsPicture","insertAdjacentHTML","aboutCats","description","temperament"],"version":3,"file":"index.952adbfe.js.map"}